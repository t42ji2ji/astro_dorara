---
import rmsiIcon from '~/assets/resume/rmsi.webp'
import ziweIcon from '~/assets/resume/ziwe.webp'
import cardmaIcon from '~/assets/resume/cardma.webp'
import woodIcon from '~/assets/resume/wood.webp'

interface Props {
  showTitle?: boolean
}

const { showTitle = false } = Astro.props

const apps = [
  {
    name: 'SMRI',
    desc: 'èƒ½å¹«ä½ å®Œæˆè¨ˆåŠƒçš„æ—¥æ›†',
    icon: rmsiIcon,
    url: 'https://apps.apple.com/tw/app/smri/id6747955368',
  },
  {
    name: 'ZIWE',
    desc: 'AI ç´«å¾®æ–—æ•¸å°ˆå®¶',
    icon: ziweIcon,
    url: 'https://apps.apple.com/tw/app/ziwe/id6749048766',
  },
  {
    name: 'Cardma',
    desc: 'ç¤¾ç¾¤å¹«æ‰‹ï¼Œç¸½çµå½±ç‰‡ã€PDF ç”¢ç”Ÿå°å¡',
    icon: cardmaIcon,
    url: 'https://apps.apple.com/tw/app/cardma/id6747955972',
  },
  {
    name: 'æœ¨é­šå’šå’š',
    desc: 'Apple Watch æœ¨é­šæ³•å™¨ App',
    icon: woodIcon,
    url: 'https://apps.apple.com/tw/app/%E6%9C%A8%E9%AD%9A%E5%92%9A%E5%92%9A/id6755515199',
  },
]
---

<!-- Apple Icon SVG Definition -->
<svg style="display: none;">
  <symbol id="apple-icon-apps" viewBox="0 0 24 24" fill="currentColor">
    <path
      d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11"
    ></path>
  </symbol>
</svg>

{showTitle && <h4 class="font-bold text-lg mb-4 mt-4">ğŸ“± ä¸Šæ¶æ‡‰ç”¨ç¨‹å¼</h4>}

<div class="app-cards-grid grid grid-cols-2 gap-4 mb-6">
  {
    apps.map((app) => (
      <a href={app.url} target="_blank" class="app-card">
        <img src={app.icon.src} alt={app.name} class="app-icon" />
        <div class="app-info">
          <div class="app-name">{app.name}</div>
          <div class="app-desc">{app.desc}</div>
          <div class="app-store-badge">
            <svg class="apple-icon">
              <use href="#apple-icon-apps" />
            </svg>
            App Store
          </div>
        </div>
      </a>
    ))
  }
</div>

<style>
  .app-cards-grid {
    --card-bg: rgba(255, 255, 255, 0.8);
    --card-border: rgba(0, 0, 0, 0.08);
    --card-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    --card-shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.12);
    --accent-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }

  :global(.dark) .app-cards-grid {
    --card-bg: rgba(30, 30, 35, 0.8);
    --card-border: rgba(255, 255, 255, 0.1);
    --card-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    --card-shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.4);
  }

  .app-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: 16px;
    padding: 1rem;
    text-decoration: none;
    color: inherit;
    box-shadow: var(--card-shadow);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden;
    position: relative;
  }

  .app-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--accent-gradient);
    opacity: 0;
    transition: opacity 0.3s;
  }

  .app-card:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: var(--card-shadow-hover);
  }

  .app-card:hover::before {
    opacity: 0.05;
  }

  .app-icon {
    width: 64px;
    height: 64px;
    border-radius: 14px;
    object-fit: cover;
    flex-shrink: 0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transition: transform 0.3s;
  }

  .app-card:hover .app-icon {
    transform: scale(1.05);
  }

  .app-info {
    flex: 1;
    min-width: 0;
    position: relative;
    z-index: 1;
  }

  .app-name {
    font-weight: 600;
    font-size: 1rem;
    margin-bottom: 0.25rem;
  }

  .app-desc {
    font-size: 0.813rem;
    color: #666;
    line-height: 1.4;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  :global(.dark) .app-desc {
    color: #aaa;
  }

  .app-store-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    margin-top: 0.5rem;
    padding: 0.25rem 0.625rem;
    background: #000;
    color: #fff;
    font-size: 0.688rem;
    font-weight: 500;
    border-radius: 6px;
    transition: background 0.2s;
  }

  :global(.dark) .app-store-badge {
    background: #333;
  }

  .app-card:hover .app-store-badge {
    background: #333;
  }

  :global(.dark) .app-card:hover .app-store-badge {
    background: #555;
  }

  .apple-icon {
    width: 12px;
    height: 12px;
  }
</style>
