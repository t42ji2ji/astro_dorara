---
/**
 * Callout çµ„ä»¶ - ç”¨æ–¼æç¤ºã€è­¦å‘Šã€é‡é»æ¨™ç¤º
 *
 * ç”¨æ³•ï¼š
 * <Callout type="tip">é€™æ˜¯ä¸€å€‹æç¤º</Callout>
 * <Callout type="warning">é€™æ˜¯ä¸€å€‹è­¦å‘Š</Callout>
 * <Callout type="info">é€™æ˜¯è£œå……è³‡è¨Š</Callout>
 */

interface Props {
  type?: 'tip' | 'warning' | 'info' | 'check'
  title?: string
}

const { type = 'info', title } = Astro.props

const styles = {
  tip: {
    border: 'border-l-stone-400 dark:border-l-stone-500',
    bg: 'bg-stone-50 dark:bg-stone-800/50',
    icon: 'ğŸ’¡',
    defaultTitle: 'æç¤º'
  },
  warning: {
    border: 'border-l-stone-600 dark:border-l-stone-400',
    bg: 'bg-stone-100 dark:bg-stone-800',
    icon: 'âš ',
    defaultTitle: 'æ³¨æ„'
  },
  info: {
    border: 'border-l-stone-300 dark:border-l-stone-600',
    bg: 'bg-stone-50/50 dark:bg-stone-800/30',
    icon: 'â„¹',
    defaultTitle: 'è£œå……'
  },
  check: {
    border: 'border-l-stone-500 dark:border-l-stone-400',
    bg: 'bg-stone-50 dark:bg-stone-800/50',
    icon: 'âœ“',
    defaultTitle: 'æª¢æŸ¥é»'
  }
}

const style = styles[type]
const displayTitle = title || style.defaultTitle
---

<div class={`my-6 pl-4 py-3 pr-4 border-l-4 ${style.border} ${style.bg}`}>
  {displayTitle && (
    <div class="flex items-center gap-2 mb-2">
      <span class="text-sm">{style.icon}</span>
      <span class="text-sm font-medium text-stone-700 dark:text-stone-300">{displayTitle}</span>
    </div>
  )}
  <div class="text-sm text-stone-600 dark:text-stone-400 [&>p]:m-0">
    <slot />
  </div>
</div>
