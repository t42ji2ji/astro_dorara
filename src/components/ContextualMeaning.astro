---
import InteractiveContainer from './InteractiveContainer.astro'
---

<InteractiveContainer
  title="æ„ç¾©å³ä½¿ç”¨ (Meaning is Use)"
  description="è©èªæ²’æœ‰å›ºå®šçš„æ ¸å¿ƒï¼Œåªæœ‰æµå‹•çš„é‚Šç•Œã€‚è©¦è‘—é»æ“Šä¸‹é¢çš„æŒ‰éˆ•ï¼Œè§€å¯Ÿã€Œæ„æ€ã€é€™å€‹è©å¦‚ä½•åœ¨ä¸åŒçš„èªå¢ƒä¸­è®Šå½¢ã€‚"
>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    <div class="flex flex-col gap-3">
      <button
        class="context-btn group relative px-5 py-4 rounded-lg border border-stone-300 dark:border-stone-600 hover:border-primary-500 dark:hover:border-primary-500 bg-white dark:bg-stone-800 transition-all text-left overflow-hidden"
        data-context="interesting"
      >
        <div
          class="absolute inset-0 bg-primary-50 dark:bg-primary-900/20 opacity-0 group-hover:opacity-100 transition-opacity"
        >
        </div>
        <span class="relative z-10 font-medium text-stone-700 dark:text-stone-200"
          >é€™æœ¬æ›¸å¾ˆæœ‰<span class="font-bold text-primary-600 dark:text-primary-400">æ„æ€</span></span
        >
        <span
          class="absolute right-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-all transform translate-x-2 group-hover:translate-x-0"
          >ğŸ‘‰</span
        >
      </button>

      <button
        class="context-btn group relative px-5 py-4 rounded-lg border border-stone-300 dark:border-stone-600 hover:border-primary-500 dark:hover:border-primary-500 bg-white dark:bg-stone-800 transition-all text-left overflow-hidden"
        data-context="sorry"
      >
        <div
          class="absolute inset-0 bg-primary-50 dark:bg-primary-900/20 opacity-0 group-hover:opacity-100 transition-opacity"
        >
        </div>
        <span class="relative z-10 font-medium text-stone-700 dark:text-stone-200"
          >çœŸä¸å¥½<span class="font-bold text-primary-600 dark:text-primary-400">æ„æ€</span>ï¼Œæˆ‘é²åˆ°äº†</span
        >
        <span
          class="absolute right-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-all transform translate-x-2 group-hover:translate-x-0"
          >ğŸ‘‰</span
        >
      </button>

      <button
        class="context-btn group relative px-5 py-4 rounded-lg border border-stone-300 dark:border-stone-600 hover:border-primary-500 dark:hover:border-primary-500 bg-white dark:bg-stone-800 transition-all text-left overflow-hidden"
        data-context="gift"
      >
        <div
          class="absolute inset-0 bg-primary-50 dark:bg-primary-900/20 opacity-0 group-hover:opacity-100 transition-opacity"
        >
        </div>
        <span class="relative z-10 font-medium text-stone-700 dark:text-stone-200"
          >é€™æ˜¯ä¸€é»å°<span class="font-bold text-primary-600 dark:text-primary-400">æ„æ€</span>ï¼Œè«‹æ”¶ä¸‹</span
        >
        <span
          class="absolute right-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-all transform translate-x-2 group-hover:translate-x-0"
          >ğŸ‘‰</span
        >
      </button>

      <button
        class="context-btn group relative px-5 py-4 rounded-lg border border-stone-300 dark:border-stone-600 hover:border-primary-500 dark:hover:border-primary-500 bg-white dark:bg-stone-800 transition-all text-left overflow-hidden"
        data-context="what"
      >
        <div
          class="absolute inset-0 bg-primary-50 dark:bg-primary-900/20 opacity-0 group-hover:opacity-100 transition-opacity"
        >
        </div>
        <span class="relative z-10 font-medium text-stone-700 dark:text-stone-200"
          >ä½ é€™æ˜¯ä»€éº¼<span class="font-bold text-primary-600 dark:text-primary-400">æ„æ€</span>ï¼Ÿ</span
        >
        <span
          class="absolute right-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-all transform translate-x-2 group-hover:translate-x-0"
          >ğŸ‘‰</span
        >
      </button>
    </div>

    <!-- Display Area -->
    <div
      class="relative bg-stone-100 dark:bg-stone-900 rounded-lg border border-stone-200 dark:border-stone-800 flex items-center justify-center p-6 min-h-[240px]"
    >
      <div
        class="absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white/50 to-transparent dark:from-white/5 opacity-50"
      >
      </div>

      <div id="meaning-display" class="text-center transition-all duration-500 transform relative z-10">
        <div class="text-6xl mb-4 animate-float">ğŸ’­</div>
        <p class="text-stone-400 font-serif italic">é»æ“Šå·¦å´èªå¢ƒ...</p>
      </div>
    </div>
  </div>
</InteractiveContainer>

<script>
  const contexts = {
    interesting: {
      meaning: 'æœ‰è¶£ã€è€äººå°‹å‘³',
      subtext: 'Fun / Interesting',
      icon: 'âœ¨',
      color: 'text-amber-500',
    },
    sorry: {
      meaning: 'æŠ±æ­‰ã€æ„§ç–š',
      subtext: 'Apology / Shy',
      icon: 'ğŸ˜“',
      color: 'text-blue-500',
    },
    gift: {
      meaning: 'å¿ƒæ„ã€ç¦®ç‰©',
      subtext: 'Token of affection',
      icon: 'ğŸ',
      color: 'text-rose-500',
    },
    what: {
      meaning: 'æ„åœ–ã€å‹•æ©Ÿ',
      subtext: 'Intention / Motive',
      icon: 'ğŸ¤¨',
      color: 'text-purple-500',
    },
  }

  const display = document.getElementById('meaning-display')
  const buttons = document.querySelectorAll('.context-btn')

  if (display && buttons.length > 0) {
    buttons.forEach((btn) => {
      btn.addEventListener('click', () => {
        const key = btn.getAttribute('data-context') as keyof typeof contexts
        if (!key)
return

        const data = contexts[key]
        if (!data)
return

        // Reset styles
        buttons.forEach((b) => {
          b.classList.remove('ring-2', 'ring-primary-500', 'bg-primary-50', 'dark:bg-primary-900/20')
          b.querySelector('.font-bold')?.classList.remove('text-primary-700')
        })
        btn.classList.add('ring-2', 'ring-primary-500', 'bg-primary-50', 'dark:bg-primary-900/20')

        // Animate out
        display.style.opacity = '0'
        display.style.transform = 'scale(0.9) translateY(10px)'
        display.style.filter = 'blur(4px)'

        setTimeout(() => {
          display.innerHTML = `
            <div class="text-8xl mb-6 ${data.color} drop-shadow-lg scale-110 transition-transform duration-500">${data.icon}</div>
            <h4 class="text-2xl font-bold mb-2 text-stone-800 dark:text-stone-100 tracking-wide">${data.meaning}</h4>
            <p class="text-sm font-mono text-stone-500 dark:text-stone-400 uppercase tracking-widest">${data.subtext}</p>
          `
          // Animate in
          display.style.opacity = '1'
          display.style.transform = 'scale(1) translateY(0)'
          display.style.filter = 'blur(0)'
        }, 300)
      })
    })
  }
</script>

<style>
  @keyframes float {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }
</style>
