---
interface Props {
  icon?: string
  name: string
  title: string
  quote?: string
  class?: string
  isActive?: boolean
}

const { icon, name, title, quote, class: className = '', isActive = false } = Astro.props
---

<div
  class:list={[
    'testimonial-card group p-6 border transition-all duration-300 cursor-pointer',
    isActive ? 'border-white/30 bg-white/5' : 'border-white/10 hover:border-white/20 hover:bg-white/[0.02]',
    className,
  ]}
>
  <div class="flex items-start gap-4">
    {
      icon && (
        <div class="flex-shrink-0 w-8 h-8 flex items-center justify-center text-white/80">
          <Fragment set:html={icon} />
        </div>
      )
    }
    <div class="flex-1 min-w-0">
      <div class="mb-2">
        <h3 class="text-sm font-medium tracking-wide uppercase text-white/90">{name}</h3>
        <p class="text-xs text-white/50 uppercase tracking-wider">{title}</p>
      </div>
      {
        quote && (
          <p class="text-sm text-white/60 leading-relaxed line-clamp-3 group-hover:text-white/70 transition-colors">
            {quote}
          </p>
        )
      }
    </div>
  </div>

  <!-- Active indicator -->
  {isActive && <div class="absolute right-4 top-1/2 -translate-y-1/2 w-2 h-2 bg-white/40" />}
</div>

<style>
  .testimonial-card {
    position: relative;
  }
</style>
